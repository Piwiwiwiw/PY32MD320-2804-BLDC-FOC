# 2804 BLDC CONTROLLER

## 指令帧结构

| 字段 | 类型 | 说明 |
|------|------|------|
| Header | uint8_t | 固定帧头 0xAA |
| ID | uint8_t | 设备地址 |
| Command | uint8_t | 指令码 |
| BookedData | uint8_t | 回报数据长度 |
| Value | int16_t | 参数值 |

## 指令列表

### 控制模式指令
| 指令码 | 功能说明 |
|--------|----------|
| 0xC0 | 转矩模式 |
| 0xC1 | 速度模式 |
| 0xC2 | 位置模式 |

### 限位设置指令
| 指令码 | 功能说明 |
|--------|----------|
| 0xC8 | 设置负向限位 |
| 0xC9 | 设置正向限位 |

### 编码器校准指令
| 指令码 | 功能说明 |
|--------|----------|
| 0xC7 | 设置电机零位 |
| 0xF1 | 设置编码器偏移量 |

### 设备配置指令
| 指令码 | 功能说明 |
|--------|----------|
| 0xF0 | 设置设备ID |

### PID参数配置指令

#### 位置环PID
| 指令码 | 功能说明 |
|--------|----------|
| 0xD0 | 位置比例系数 |
| 0xD1 | 位置积分系数 |

#### 速度环PID
| 指令码 | 功能说明 |
|--------|----------|
| 0xE0 | 速度比例系数 |
| 0xE1 | 速度积分系数 |

### 系统控制指令
| 指令码 | 功能说明 |
|--------|----------|
| 0xA0 | 关闭PWM输出 |
| 0xA1 | 开启PWM输出 |
| 0xB0 | 保存配置参数 |
| 0x0B | 电压矢量测试模式 |

